<!-- NOMBRE: trabajo2.html -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Segundo Trabajo</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style> /* Estilos iguales a trabajo1 */ 
        body{ font-family: 'Roboto', sans-serif; display:flex; flex-direction:column; align-items:center; gap:12px; padding:16px; }
        #canvas-container{ width:80%; }
        .controls{ margin:6px 0; }
        .back-button{ text-decoration:none; color:#333; }
    </style>
</head>
<body>
    <h1>Segundo Trabajo</h1>
    <p>Base con elipses y líneas (brazos). Código ajustado para que los "palitos" estén más cerca del cuerpo.</p>
    <div id="canvas-container"></div>
    <div class="controls">
        <button onclick="resetDrawing()" aria-label="Reiniciar dibujo">Reiniciar</button>
    </div>
    <a href="galeria.html" class="back-button">Regresar</a>

    <script>
        window.onload = () => document.body.classList.add('loaded');
        let canvas;
        function setup() {
            canvas = createCanvas(windowWidth * 0.8, windowHeight * 0.6);
            canvas.parent('canvas-container');
            background(255);
            drawShapes();
            canvas.elt.setAttribute('aria-label', 'Dibujo de base, elipses y líneas');
        }

        function drawShapes() {
            // fondo y base
            background(255);
            noStroke();
            fill(230);
            rect(0, height * 0.75, width, height * 0.25);

            // parámetros relativos para que escale bien
            const cx = width / 2;
            const bottomY = height * 0.75;
            const headY = height * 0.3;
            const midY = height * 0.5;

            // tamaños relativos (puedes ajustarlos)
            const largeR = min(width, height) * 0.125; // base grande
            const midR   = min(width, height) * 0.08;  // torso
            const headR  = min(width, height) * 0.06;  // cabeza

            // cuerpo (3 elipses)
            fill(245);
            stroke(0);
            strokeWeight(1);
            ellipse(cx, bottomY, largeR * 2, largeR * 2); // base
            ellipse(cx, midY, midR * 2, midR * 2);        // torso
            ellipse(cx, headY, headR * 2, headR * 2);     // cabeza

            // brazos: salen desde el torso, más pegados al cuerpo y con doble segmento (hombro -> antebrazo)
            strokeWeight(3);
            stroke(40);

            // puntos base (hombro) dentro del torso (ajustable con factors)
            const shoulderOffsetX = midR * 0.7;
            const shoulderOffsetY = 0; // mismo nivel del centro del torso
            const shoulderLx = cx - shoulderOffsetX;
            const shoulderRx = cx + shoulderOffsetX;
            const shoulderY  = midY + shoulderOffsetY;

            // primer segmento (hombro hacia el codo)
            const elbowLx = cx - midR * 1.6;
            const elbowLy = midY - midR * 0.15;
            const elbowRx = cx + midR * 1.6;
            const elbowRy = midY - midR * 0.15;

            // segundo segmento (antebrazo hacia la mano)
            const handLx = cx - midR * 2.3;
            const handLy = midY - midR * 0.5;
            const handRx = cx + midR * 2.3;
            const handRy = midY - midR * 0.5;

            // brazo izquierdo (dos segmentos)
            line(shoulderLx, shoulderY, elbowLx, elbowLy);
            line(elbowLx, elbowLy, handLx, handLy);

            // brazo derecho (dos segmentos)
            line(shoulderRx, shoulderY, elbowRx, elbowRy);
            line(elbowRx, elbowRy, handRx, handRy);

            // detalles opcionales (ojos) — para que se vea más "mono/nieve"
            noStroke();
            fill(0);
            const eyeY = headY - headR * 0.15;
            ellipse(cx - headR * 0.35, eyeY, headR * 0.18, headR * 0.18);
            ellipse(cx + headR * 0.35, eyeY, headR * 0.18, headR * 0.18);
        }

        // botón reiniciar usa esta función (no confundir con p5.redraw)
        function resetDrawing() { drawShapes(); }

        function windowResized() {
            resizeCanvas(windowWidth * 0.8, windowHeight * 0.6);
            drawShapes();
        }
    </script>
</body>
</html>
